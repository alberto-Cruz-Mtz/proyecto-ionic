<app-header />

<ion-content [fullscreen]="true">
  <h1>Búsqueda de Productos</h1>
  <form class="custom-form" [formGroup]="searchForm" (ngSubmit)="handleSubmit()">
    <ion-input required class="custom-input" id="code" formControlName="code" type="text" labelPlacement="stacked"
               label="Código" placeholder="Código del producto">
      <ion-icon slot="start" aria-hidden="true" name="barcode-outline"></ion-icon>
    </ion-input>
    <ion-button type="submit" [disabled]="searchForm.invalid" class="custom-btn shadow-btn">
      <ion-icon slot="start" name="search-circle-outline"></ion-icon>
      buscar
    </ion-button>
  </form>
  @if(showData){
    <article>
      <header>
        <h6>{{data.description}}</h6>
      </header>
      <blockquote>
        <ion-label>Código: <span>{{data.code}}</span></ion-label>
        <ion-label>Tipo de Venta: <span>{{data.sale}}</span></ion-label>
        <ion-label>Precio de Costo: <span>{{data.purchasePrice}}</span></ion-label>
        <ion-label>Precio de Venta: <span>{{data.salesprice}}</span></ion-label>
        <ion-label>Precio Mayoreo: <span>{{data.mayoreo}}</span></ion-label>
        <ion-label>Categoría: <span>{{data.category}}</span></ion-label>
        <ion-label>Existencias: <span>{{data.quantity}}</span></ion-label>
        <div>
          <ion-button (click)="enviarObjeto()" class="custom-btn shadow-btn">Modificar</ion-button>
          <ion-button routerLink="/dashboard/delete" class="custom-btn danger-outside-btn outside-btn">Eliminar</ion-button>
        </div>
      </blockquote>
    </article>
  }
  <app-modal [message]="message" [(isOpen)]="error"></app-modal>
</ion-content>
<ion-footer>
  <ion-button routerLink="/dashboard" class="icon-btn primary-outside-btn outside-btn" slot="start">
    <ion-icon slot="icon-only" color="primary" name="arrow-back-circle-outline"></ion-icon>
  </ion-button>
  <ion-label>volver</ion-label>
</ion-footer>
